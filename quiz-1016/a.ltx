\documentclass[a4j]{jarticle}
\title{Binary Search}
\author{環境情報学部1年 72040305 飯田 圭祐}

\usepackage{url}
\usepackage{listings}

\lstset{
  commentstyle=\textit,
  basicstyle={\ttfamily\small}, %書体の指定
  frame=single, %フレームの指定
  framesep=5pt, %フレームと中身（コード）の間隔
  breaklines=true, %行が長くなった場合の改行
  linewidth=15cm, %フレームの横幅
  lineskip=-0.5ex, %行間の調整
  tabsize=2, %Tabを何文字幅にするかの指定
  keywordstyle = \bfseries,
  showstringspaces=false,
  stepnumber=1,
}

\begin{document}

\begin{flushright}
環境情報学部 72040305 飯田 圭祐
\end{flushright}

\section{ソースコード}

  \begin{lstlisting}[language=c, caption=binary\_search]
int
binary_search(const int key, const int min, const int max)
{
  int i, j, p;
  i = min;
  j = max;
  int step = 0;

  std::chrono::system_clock::time_point start, end;
  start = std::chrono::system_clock::now();

  while (i <= j) {
    step++;
    p = (i + j) / 2;
    if (key < Database[p]) {
			j = p - 1;
		}
    else if (key > Database[p]) {
			i = p + 1;
		}
    else if (key == Database[p]) {
      end = std::chrono::system_clock::now();
      double elapsed = std::chrono::duration_cast<std::chrono::nanoseconds>(end-start).count();

      printf("[Binary] Found at %5d (Step = %8d)[%2.1f ns]\n", p, step, elapsed);
      return p;
    }
  }

  return -1;
}
  \end{lstlisting}
\section{説明}
keyが現在の値より小さかった場合はjを中央を指すpから1を引いた値に設定し，keyが現在の値より大きかった場合はiをpに1を足した値に設定する．
\section{実行結果}
実行結果はListing \ref{l}の通りになった．
  \begin{lstlisting}[caption=実行結果, label=l]
Key? 3487325
[Linear] Found at 996671 (Step =   996671)[10381345.0 ns]
[Binary] Found at 996671 (Step =       20)[2333.0 ns]
  \end{lstlisting}

\end{document}
